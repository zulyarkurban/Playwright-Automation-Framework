{"version":3,"file":"try_require.js","sourceRoot":"","sources":["../src/try_require.ts"],"names":[],"mappings":";;AAMA,6BAoBC;AA1BD;;;;;GAKG;AACH,SAAwB,UAAU,CAAC,IAAY;IAC7C,IAAI,CAAC;QACH,OAAO,OAAO,CAAC,IAAI,CAAC,CAAA,CAAC,4DAA4D;IACnF,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,IAAI,KAAK,CAAC,IAAI,KAAK,iBAAiB,EAAE,CAAC;YACrC,MAAM,KAAK,CACT,2CAA2C,IAAI;oGAC6C,EAC5F,EAAE,KAAK,EAAE,KAAK,EAAE,CACjB,CAAA;QACH,CAAC;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,0BAA0B,EAAE,CAAC;YACrD,MAAM,KAAK,CACT,+DAA+D,IAAI;uGAC4B,EAC/F,EAAE,KAAK,EAAE,KAAK,EAAE,CACjB,CAAA;QACH,CAAC;aAAM,CAAC;YACN,MAAM,KAAK,CAAA;QACb,CAAC;IACH,CAAC;AACH,CAAC","sourcesContent":["/**\n * Provides a try guarded require call that will throw a more detailed error when\n * the ERR_REQUIRE_ESM error code is encountered.\n *\n * @param {string} path File path to require from.\n */\nexport default function tryRequire(path: string) {\n  try {\n    return require(path) // eslint-disable-line @typescript-eslint/no-require-imports\n  } catch (error) {\n    if (error.code === 'ERR_REQUIRE_ESM') {\n      throw Error(\n        `Cucumber expected a CommonJS module at '${path}' but found an ES module.\n      Either change the file to CommonJS syntax or use the --import directive instead of --require.`,\n        { cause: error }\n      )\n    } else if (error.code === 'ERR_REQUIRE_ASYNC_MODULE') {\n      throw Error(\n        `Cucumber expected a CommonJS module or simple ES module at '${path}' but found an async ES module.\n      Either change the file so it can be required or use the --import directive instead of --require.`,\n        { cause: error }\n      )\n    } else {\n      throw error\n    }\n  }\n}\n"]}